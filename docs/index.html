
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>crispy &#8212; crispy 0.0.1 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!-- 
    this give us a css class that will be invisible only if js is disabled 
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
  
  <!-- So that users can add custom icons -->
  <script src="_static/scripts/fontawesome.js?digest=26a4bc78f4c0ddb94549"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549" />

    <script src="_static/jquery.js?v=5d32c60e"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script src="_static/documentation_options.js?v=d45e8c67"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'index';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="#">
  
  
  
  
  
  
    <p class="title logo__title">crispy 0.0.1 documentation</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar hide-on-wide">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
      </div>
    
  </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none"></div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <div class="toctree-wrapper compound">
</div>
<section id="crispy">
<h1>crispy<a class="headerlink" href="#crispy" title="Link to this heading">#</a></h1>
<p><strong>a CRystal population metric InSpector written in PYthon.</strong></p>
<a class="reference external image-reference" href="https://www.python.org/"><img alt="cross-platform" src="https://img.shields.io/badge/platform-cross--platform-brightgreen.svg" />
</a>
<a class="reference external image-reference" href="https://www.python.org/"><img alt="pure python" src="https://img.shields.io/badge/code-pure%20python-blue.svg" />
</a>
<a class="reference external image-reference" href="https://github.com/AxelHenningsson/crispy/actions/workflows/pytest-linux-py310.yml"><img alt="tests ubuntu-linux" src="https://github.com/AxelHenningsson/crispy/actions/workflows/pytest-linux-py310.yml/badge.svg" />
</a>
<a class="reference external image-reference" href="https://github.com/psf/black"><img alt="code style black" src="https://img.shields.io/badge/code%20style-black-000000.svg" />
</a>
<a class="reference external image-reference" href="https://axelhenningsson.github.io/darling/"><img alt="Sphinx documentation" src="https://img.shields.io/badge/docs-sphinx-blue.svg" />
</a>
<p>crispy is a Python package for analyzing crystal population metrics from 3DXRD and
lab-DCT data targeting interfacing between diffraction contrast modalities.</p>
<p>One of the central features of crispy is the provision of per-grain reflections
diffraction information for Dark-Field X-ray Microscopy (DFXM) by analyzing
3DXRD grain maps and lab-DCT grain volumes.</p>
<p>Interfaces for reading, analyzing, and visualizing grain maps are provided for</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>3DXRD grain maps</strong> (3D scatter of grain centroids and grain orientations)</p></li>
<li><p><strong>lab-DCT voxel volumes</strong> (3D voxel volumes where each voxel is a single crystal grain)</p></li>
</ul>
</div></blockquote>
</section>
<section id="authors">
<h1>Authors<a class="headerlink" href="#authors" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">crispy</span></code> is written and maintained by:</p>
<p><a class="reference external" href="https://github.com/AxelHenningsson">Axel Henningsson</a>,</p>
<p>Until an associated journal publication is available, if you use this code in your research, we ask that you cite this repository.</p>
</section>
<section id="usecase">
<h1>Usecase<a class="headerlink" href="#usecase" title="Link to this heading">#</a></h1>
<p>We can load a grain map from disc as</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">crispy</span>

<span class="c1"># this could be a 3DXRD grain map or a lab-DCT grain volume</span>
<span class="n">path_to_my_grain_map</span> <span class="o">=</span> <span class="n">crispy</span><span class="o">.</span><span class="n">assets</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">AL1050</span>
<span class="n">grain_map</span> <span class="o">=</span> <span class="n">crispy</span><span class="o">.</span><span class="n">GrainMap</span><span class="p">(</span> <span class="n">path_to_my_grain_map</span> <span class="p">)</span>
</pre></div>
</div>
<p>In this example we have a lab-DCT grain volume, we do some filtering to remove grains that are not of interest</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">grain_map</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span> <span class="n">min_grain_size_in_voxels</span> <span class="o">=</span> <span class="mi">200</span> <span class="p">)</span>
<span class="n">grain_map</span><span class="o">.</span><span class="n">prune_boundary_grains</span><span class="p">()</span>
</pre></div>
</div>
<p>Many more operations for manipulating grain maps are available – check out the docs!</p>
<p>We can now write the grain map to a file to  visualize in paraview</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">grain_map</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;grain_map.xdmf&quot;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="https://github.com/AxelHenningsson/crispy/blob/dev/docs/source/images/readme_grains.png?raw=true" class="align-center" src="https://github.com/AxelHenningsson/crispy/blob/dev/docs/source/images/readme_grains.png?raw=true" />
<p>To search for accessible reflections in DFXM mode for <code class="docutils literal notranslate"><span class="pre">eta=0</span></code>, we can use the <a class="reference internal" href="#crispy.dfxm.Goniometer" title="crispy.dfxm.Goniometer"><code class="xref py py-obj docutils literal notranslate"><span class="pre">crispy.dfxm.Goniometer</span></code></a> class as</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">motor_bounds</span> <span class="o">=</span> <span class="p">{</span>
<span class="s2">&quot;mu&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="c1"># degrees</span>
<span class="s2">&quot;omega&quot;</span><span class="p">:</span> <span class="p">(</span><span class="o">-</span><span class="mi">30</span><span class="p">,</span> <span class="mi">30</span><span class="p">),</span> <span class="c1"># degrees</span>
<span class="s2">&quot;chi&quot;</span><span class="p">:</span> <span class="p">(</span><span class="o">-</span><span class="mi">7</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="c1"># degrees</span>
<span class="s2">&quot;phi&quot;</span><span class="p">:</span> <span class="p">(</span><span class="o">-</span><span class="mi">7</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="c1"># degrees</span>
<span class="s2">&quot;detector_z&quot;</span><span class="p">:</span> <span class="p">(</span><span class="o">-</span><span class="mf">0.04</span><span class="p">,</span> <span class="mf">1.96</span><span class="p">),</span> <span class="c1"># metres</span>
<span class="s2">&quot;detector_y&quot;</span><span class="p">:</span> <span class="p">(</span><span class="o">-</span><span class="mf">0.169</span><span class="p">,</span> <span class="mf">1.16</span><span class="p">)</span> <span class="c1"># metres</span>
<span class="p">}</span>

<span class="n">goniometer</span> <span class="o">=</span> <span class="n">crispy</span><span class="o">.</span><span class="n">dfxm</span><span class="o">.</span><span class="n">Goniometer</span><span class="p">(</span><span class="n">grain_map</span><span class="p">,</span>
                        <span class="n">energy</span><span class="o">=</span><span class="mi">17</span><span class="p">,</span>
                        <span class="n">detector_distance</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
                        <span class="n">motor_bounds</span><span class="o">=</span><span class="n">motor_bounds</span><span class="p">)</span>

<span class="n">goniometer</span><span class="o">.</span><span class="n">find_reflections</span><span class="p">()</span>
</pre></div>
</div>
<p>The resulting reflections can be accessed as</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">polycrystal</span><span class="o">.</span><span class="n">grains</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">dfxm</span>
</pre></div>
</div>
<p>Providing a dictionary with refleciton information for each grain.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;hkl&#39;</span><span class="p">:</span> <span class="n">array</span><span class="p">([[</span><span class="mf">0.</span><span class="p">],</span>
        <span class="p">[</span><span class="mf">0.</span><span class="p">],</span>
        <span class="p">[</span><span class="mf">2.</span><span class="p">]]),</span>
<span class="s1">&#39;mu&#39;</span><span class="p">:</span> <span class="n">array</span><span class="p">([</span><span class="mf">12.7388667</span><span class="p">]),</span>
<span class="s1">&#39;omega&#39;</span><span class="p">:</span> <span class="n">array</span><span class="p">([</span><span class="mf">1.78967645</span><span class="p">]),</span>
<span class="s1">&#39;chi&#39;</span><span class="p">:</span> <span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">4.23236192</span><span class="p">]),</span>
<span class="s1">&#39;phi&#39;</span><span class="p">:</span> <span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">2.77428247</span><span class="p">]),</span>
<span class="s1">&#39;residual&#39;</span><span class="p">:</span> <span class="n">array</span><span class="p">([</span><span class="mf">0.</span><span class="p">]),</span>
<span class="s1">&#39;theta&#39;</span><span class="p">:</span> <span class="n">array</span><span class="p">([</span><span class="mf">10.37543294</span><span class="p">])}</span>
</pre></div>
</div>
<p>Alternatively, we can generate a <code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code> with reflection information for all grains as</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">goniometer</span><span class="o">.</span><span class="n">table_of_reflections</span><span class="p">()</span>
</pre></div>
</div>
<img alt="https://github.com/AxelHenningsson/crispy/blob/dev/docs/source/images/readme_df.png?raw=true" src="https://github.com/AxelHenningsson/crispy/blob/dev/docs/source/images/readme_df.png?raw=true" />
<p>It is also possible to load a 3DXRD grain map from a file tesselate and visualize.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">path_to_my_grain_map</span> <span class="o">=</span> <span class="n">crispy</span><span class="o">.</span><span class="n">assets</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">FEAU</span>
<span class="n">grain_map</span> <span class="o">=</span> <span class="n">crispy</span><span class="o">.</span><span class="n">GrainMap</span><span class="p">(</span> <span class="n">path_to_my_grain_map</span> <span class="p">)</span>
<span class="n">grain_map</span><span class="o">.</span><span class="n">tesselate</span><span class="p">()</span>
<span class="n">grain_map</span><span class="o">.</span><span class="n">colorize</span><span class="p">(</span> <span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="p">)</span>
<span class="n">crispy</span><span class="o">.</span><span class="n">visualize</span><span class="o">.</span><span class="n">mesh</span><span class="p">(</span> <span class="n">grain_map</span> <span class="p">)</span>
</pre></div>
</div>
<img alt="https://github.com/AxelHenningsson/crispy/blob/dev/docs/source/images/readme_tdxrd.png?raw=true" src="https://github.com/AxelHenningsson/crispy/blob/dev/docs/source/images/readme_tdxrd.png?raw=true" />
</section>
<section id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Link to this heading">#</a></h1>
<p>To install <code class="docutils literal notranslate"><span class="pre">crispy</span></code> from source, run</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/AxelHenningsson/crispy.git
<span class="nb">cd</span><span class="w"> </span>crispy
pip<span class="w"> </span>install<span class="w"> </span>-e<span class="w"> </span>.
</pre></div>
</div>
</section>
<section id="documentation">
<h1>Documentation<a class="headerlink" href="#documentation" title="Link to this heading">#</a></h1>
<p>The extended documentation is about to be released at an externally hosted website.</p>
<section id="grainmap">
<h2>GrainMap<a class="headerlink" href="#grainmap" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="crispy._grain_map.GrainMap">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">crispy._grain_map.</span></span><span class="sig-name descname"><span class="pre">GrainMap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grain_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'grains'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lattice_parameters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">symmetry</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_grain_map.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._grain_map.GrainMap" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Factory class for creating <a class="reference internal" href="#crispy._polycrystal.Polycrystal" title="crispy._polycrystal.Polycrystal"><code class="xref py py-class docutils literal notranslate"><span class="pre">crispy.Polycrystal</span></code></a> objects.</p>
<p>Creates <a class="reference internal" href="#crispy._polycrystal.Polycrystal" title="crispy._polycrystal.Polycrystal"><code class="xref py py-class docutils literal notranslate"><span class="pre">crispy.Polycrystal</span></code></a> objects from
either a list of <code class="xref py py-obj docutils literal notranslate"><span class="pre">ImageD11.grain.grain</span></code> objects or an HDF5 file containing
grain information. Supports both 3DXRD grain maps and lab-DCT grain volumes.</p>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">crispy</span>

<span class="c1"># Load a 3DXRD grain map</span>
<span class="n">path_to_h5_3dxrd</span> <span class="o">=</span> <span class="n">crispy</span><span class="o">.</span><span class="n">assets</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">FEAU</span>
<span class="n">grain_map_3dxrd</span> <span class="o">=</span> <span class="n">crispy</span><span class="o">.</span><span class="n">GrainMap</span><span class="p">(</span>
    <span class="n">path_to_h5_3dxrd</span><span class="p">,</span>
    <span class="n">group_name</span><span class="o">=</span><span class="s2">&quot;Fe&quot;</span><span class="p">,</span>  <span class="c1"># match the top key in the h5 file</span>
    <span class="n">lattice_parameters</span><span class="o">=</span><span class="p">[</span><span class="mf">4.0493</span><span class="p">,</span> <span class="mf">4.0493</span><span class="p">,</span> <span class="mf">4.0493</span><span class="p">,</span> <span class="mf">90.0</span><span class="p">,</span> <span class="mf">90.0</span><span class="p">,</span> <span class="mf">90.0</span><span class="p">],</span>
    <span class="n">symmetry</span><span class="o">=</span><span class="mi">225</span><span class="p">,</span>  <span class="c1"># cubic fcc</span>
<span class="p">)</span>

<span class="c1"># Load a lab-DCT grain volume</span>
<span class="n">path_to_h5_lab_dct</span> <span class="o">=</span> <span class="n">crispy</span><span class="o">.</span><span class="n">assets</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">AL1050</span>
<span class="n">grain_map_lab_dct</span> <span class="o">=</span> <span class="n">crispy</span><span class="o">.</span><span class="n">GrainMap</span><span class="p">(</span><span class="n">path_to_h5_lab_dct</span><span class="p">)</span>

<span class="c1"># Access grains and reference cell</span>
<span class="c1"># grain_map_3dxrd.grains</span>
<span class="c1"># grain_map_lab_dct.grains</span>
<span class="c1"># grain_map_3dxrd.reference_cell</span>
<span class="c1"># grain_map_lab_dct.reference_cell</span>
</pre></div>
</div>
<p>The factory returns either a <a class="reference internal" href="#crispy._tdxrd_map.TDXRDMap" title="crispy._tdxrd_map.TDXRDMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">crispy.TDXRDMap</span></code></a>
(for 3DXRD) or a <a class="reference internal" href="#crispy._lab_dct_volume.LabDCTVolume" title="crispy._lab_dct_volume.LabDCTVolume"><code class="xref py py-class docutils literal notranslate"><span class="pre">crispy.LabDCTVolume</span></code></a>
(for lab-DCT). Both types contain a <cite>grains</cite> attribute - a list of
<a class="reference external" href="https://github.com/FABLE-3DXRD/ImageD11/blob/f1766f525288a6c49f20f98ee7d95ea9233db430/ImageD11/grain.py#L49">ImageD11.grain.grain</a>
objects representing individual grains. They also contain a reference cell that
describes the lattice parameters and symmetry group of the material phase.</p>
<p>Any resulting <a class="reference internal" href="#crispy._polycrystal.Polycrystal" title="crispy._polycrystal.Polycrystal"><code class="xref py py-class docutils literal notranslate"><span class="pre">crispy.Polycrystal</span></code></a> can be
mounted on a <a class="reference internal" href="#crispy.dfxm.Goniometer" title="crispy.dfxm.Goniometer"><code class="xref py py-obj docutils literal notranslate"><span class="pre">crispy.dfxm.Goniometer</span></code></a> to analyze accessible diffraction
reflections for Dark-Field X-ray Microscopy.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>grain_data</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> or <code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">ImageD11.grain.grain</span></code>) – Either an absolute path to an HDF5 file containing grain data (3DXRD map
or lab-DCT volume), or a list of ImageD11 grain objects. Example files
can be found in the <cite>crispy.assets</cite> module.</p></li>
<li><p><strong>group_name</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>) – Name of the HDF5 group containing grain information.
Only used for 3DXRD HDF5 files. Defaults to “grains”.</p></li>
<li><p><strong>lattice_parameters</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>) – Crystal lattice parameters
[a, b, c, alpha, beta, gamma]. Defaults to None.</p></li>
<li><p><strong>symmetry</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>) – Symmetry group of the phase. Defaults to None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Either <a class="reference internal" href="#crispy._tdxrd_map.TDXRDMap" title="crispy._tdxrd_map.TDXRDMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">crispy.TDXRDMap</span></code></a> or
<a class="reference internal" href="#crispy._lab_dct_volume.LabDCTVolume" title="crispy._lab_dct_volume.LabDCTVolume"><code class="xref py py-class docutils literal notranslate"><span class="pre">crispy.LabDCTVolume</span></code></a>.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ValueError</strong> – If grain_data is neither a list of grain objects nor a valid
    HDF5 file path.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="polycrystal">
<h2>Polycrystal<a class="headerlink" href="#polycrystal" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="crispy._polycrystal.Polycrystal">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">crispy._polycrystal.</span></span><span class="sig-name descname"><span class="pre">Polycrystal</span></span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_polycrystal.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._polycrystal.Polycrystal" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Base class for representing polycrystalline materials.</p>
<p>This class serves as a base for specialized polycrystal implementations like
<a class="reference internal" href="#crispy._tdxrd_map.TDXRDMap" title="crispy._tdxrd_map.TDXRDMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">crispy.TDXRDMap</span></code></a> and
<a class="reference internal" href="#crispy._lab_dct_volume.LabDCTVolume" title="crispy._lab_dct_volume.LabDCTVolume"><code class="xref py py-class docutils literal notranslate"><span class="pre">crispy.LabDCTVolume</span></code></a>. To create a
polycrystal object, use the <a class="reference internal" href="#crispy._grain_map.GrainMap" title="crispy._grain_map.GrainMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">crispy.GrainMap</span></code></a>
factory class which dispatches to the appropriate implementation.</p>
<p>All polycrystal objects share common attributes including a list of
<code class="xref py py-obj docutils literal notranslate"><span class="pre">ImageD11.grain.grain</span></code> objects representing individual grains and a reference
cell describing the material’s lattice parameters and symmetry group.</p>
<p>Any polycrystal object can be mounted on a <a class="reference internal" href="#crispy.dfxm.Goniometer" title="crispy.dfxm.Goniometer"><code class="xref py py-obj docutils literal notranslate"><span class="pre">crispy.dfxm.Goniometer</span></code></a> to analyze
accessible diffraction reflections for Dark-Field X-ray Microscopy experiments.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="crispy._polycrystal.Polycrystal.reference_cell">
<span class="sig-name descname"><span class="pre">reference_cell</span></span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_polycrystal.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._polycrystal.Polycrystal.reference_cell" title="Link to this definition">#</a></dt>
<dd><p>Reference cell describing the
material’s lattice parameters and symmetry group.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">ImageD11.unitcell</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="crispy._polycrystal.Polycrystal.grains">
<span class="sig-name descname"><span class="pre">grains</span></span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_polycrystal.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._polycrystal.Polycrystal.grains" title="Link to this definition">#</a></dt>
<dd><p>List of grain objects
representing individual crystals in the polycrystal.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">ImageD11.grain.grain</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="crispy._polycrystal.Polycrystal.number_of_grains">
<span class="sig-name descname"><span class="pre">number_of_grains</span></span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_polycrystal.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._polycrystal.Polycrystal.number_of_grains" title="Link to this definition">#</a></dt>
<dd><p>Total number of grains in the polycrystal.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="crispy._polycrystal.Polycrystal.neighbours">
<span class="sig-name descname"><span class="pre">neighbours</span></span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_polycrystal.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._polycrystal.Polycrystal.neighbours" title="Link to this definition">#</a></dt>
<dd><p>Array of <code class="docutils literal notranslate"><span class="pre">shape</span> <span class="pre">(N,</span> <span class="pre">...)</span></code> containing grain
neighbour indices where <code class="docutils literal notranslate"><span class="pre">N</span></code> is the number of grains and <code class="docutils literal notranslate"><span class="pre">...</span></code> depends on the
number of neighbours per grain. I.e., if grain <code class="docutils literal notranslate"><span class="pre">i</span></code> has 3 neighbours, then
<code class="docutils literal notranslate"><span class="pre">neighbours[i,</span> <span class="pre">:]</span></code> contains the indices of the 3 neighbours.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="crispy._polycrystal.Polycrystal.texturize">
<span class="sig-name descname"><span class="pre">texturize</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_polycrystal.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._polycrystal.Polycrystal.texturize" title="Link to this definition">#</a></dt>
<dd><p>Compute the <a class="reference internal" href="#crispy._polycrystal.Polycrystal.misorientations" title="crispy._polycrystal.Polycrystal.misorientations"><code class="xref py py-attr docutils literal notranslate"><span class="pre">misorientations</span></code></a> between all grain neighbours.</p>
<p>Calculates and stores misorientation angles between adjacent grains in the
polycrystal. This is an in-place operation that mutates the state of the
<a class="reference internal" href="#crispy._polycrystal.Polycrystal" title="crispy._polycrystal.Polycrystal"><code class="xref py py-class docutils literal notranslate"><span class="pre">crispy.Polycrystal</span></code></a> object such
that the <a class="reference internal" href="#crispy._polycrystal.Polycrystal.misorientations" title="crispy._polycrystal.Polycrystal.misorientations"><code class="xref py py-attr docutils literal notranslate"><span class="pre">misorientations</span></code></a> attribute is set.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="crispy._polycrystal.Polycrystal.misorientations">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">misorientations</span></span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_polycrystal.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._polycrystal.Polycrystal.misorientations" title="Link to this definition">#</a></dt>
<dd><p>Return the misorientations between all grain neighbours.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><dl class="simple">
<dt>Array of misorientation angles between adjacent grains.</dt><dd><p><code class="docutils literal notranslate"><span class="pre">shape=(N,</span> <span class="pre">...)</span></code> where <code class="docutils literal notranslate"><span class="pre">N</span></code> is the number of grains and the
second dimension, <code class="docutils literal notranslate"><span class="pre">...</span></code>, depends on the number of neighbours per grain.
I.e., if grain <code class="docutils literal notranslate"><span class="pre">i</span></code> has 3 neighbours, then <code class="docutils literal notranslate"><span class="pre">misorientations[i,</span> <span class="pre">:]</span></code>
contains the misorientation angles between grain <code class="docutils literal notranslate"><span class="pre">i</span></code> and its
3 neighbours following the order of the attribute <a class="reference internal" href="#crispy._polycrystal.Polycrystal.neighbours" title="crispy._polycrystal.Polycrystal.neighbours"><code class="xref py py-attr docutils literal notranslate"><span class="pre">neighbours</span></code></a>.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ValueError</strong> – If misorientations have not been computed via texturize().</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="crispy._polycrystal.Polycrystal.ubi">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ubi</span></span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_polycrystal.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._polycrystal.Polycrystal.ubi" title="Link to this definition">#</a></dt>
<dd><p>Return the UBI matrices (sample frame reciprocal unit cell matrices) of all grains.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><dl class="simple">
<dt>Array of UBI matrices</dt><dd><p>with <code class="docutils literal notranslate"><span class="pre">shape=(N,</span> <span class="pre">3,</span> <span class="pre">3)</span></code>, where <code class="docutils literal notranslate"><span class="pre">N</span></code> is the number of grains.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="crispy._polycrystal.Polycrystal.u">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">u</span></span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_polycrystal.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._polycrystal.Polycrystal.u" title="Link to this definition">#</a></dt>
<dd><p>Return the U matrices (orientation matrices) of all grains.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><dl class="simple">
<dt>Array of U matrices</dt><dd><p>with <code class="docutils literal notranslate"><span class="pre">shape=(N,</span> <span class="pre">3,</span> <span class="pre">3)</span></code>, where <code class="docutils literal notranslate"><span class="pre">N</span></code> is the number of grains.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="crispy._polycrystal.Polycrystal.orientation">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">orientation</span></span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_polycrystal.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._polycrystal.Polycrystal.orientation" title="Link to this definition">#</a></dt>
<dd><p>Syntax sugar for <a class="reference internal" href="#crispy._polycrystal.Polycrystal.u" title="crispy._polycrystal.Polycrystal.u"><code class="xref py py-attr docutils literal notranslate"><span class="pre">u</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><dl class="simple">
<dt>Array of U matrices</dt><dd><p>with <code class="docutils literal notranslate"><span class="pre">shape=(N,</span> <span class="pre">3,</span> <span class="pre">3)</span></code>, where <code class="docutils literal notranslate"><span class="pre">N</span></code> is the number of grains.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="crispy._polycrystal.Polycrystal.b">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">b</span></span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_polycrystal.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._polycrystal.Polycrystal.b" title="Link to this definition">#</a></dt>
<dd><p>Return the B matrices (crystal frame reciprocal unit cell matrices) of all grains.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><dl class="simple">
<dt>Array of B matrices</dt><dd><p>with <code class="docutils literal notranslate"><span class="pre">shape=(N,</span> <span class="pre">3,</span> <span class="pre">3)</span></code>, where <code class="docutils literal notranslate"><span class="pre">N</span></code> is the number of grains.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="crispy._polycrystal.Polycrystal.strain">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">strain</span></span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_polycrystal.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._polycrystal.Polycrystal.strain" title="Link to this definition">#</a></dt>
<dd><p>Return the sample frame strain tensors of all grains.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><dl class="simple">
<dt>Array of strain tensors</dt><dd><p>with <code class="docutils literal notranslate"><span class="pre">shape=(N,</span> <span class="pre">3,</span> <span class="pre">3)</span></code>, where <code class="docutils literal notranslate"><span class="pre">N</span></code> is the number of grains.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="crispy._polycrystal.Polycrystal.crystal_system">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">crystal_system</span></span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_polycrystal.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._polycrystal.Polycrystal.crystal_system" title="Link to this definition">#</a></dt>
<dd><p>Return the crystal system name.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><dl class="simple">
<dt>One of: triclinic, monoclinic, orthorhombic, tetragonal,</dt><dd><p>trigonal, hexagonal, or cubic.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="crispy._polycrystal.Polycrystal.colorize">
<span class="sig-name descname"><span class="pre">colorize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ipf_axes</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_polycrystal.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._polycrystal.Polycrystal.colorize" title="Link to this definition">#</a></dt>
<dd><p>Compute and store IPF colors for all grains.</p>
<p>Uses orix (<a class="github reference external" href="https://github.com/pyxem/orix">pyxem/orix</a>) to calculate inverse pole figure
colors for specified viewing directions and stores them in grain objects
in the <a class="reference internal" href="#crispy._polycrystal.Polycrystal.grains" title="crispy._polycrystal.Polycrystal.grains"><code class="xref py py-attr docutils literal notranslate"><span class="pre">grains</span></code></a> attribute under the <cite>rgb</cite> attribute.</p>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">crispy</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">polycrystal</span> <span class="o">=</span> <span class="n">crispy</span><span class="o">.</span><span class="n">assets</span><span class="o">.</span><span class="n">grain_map</span><span class="o">.</span><span class="n">tdxrd_map</span><span class="p">()</span>

<span class="c1"># Colorize the polycrystal with the y, and z axes</span>
<span class="n">polycrystal</span><span class="o">.</span><span class="n">colorize</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]))</span>

<span class="c1"># these can be accessed as follows</span>
<span class="n">grain</span> <span class="o">=</span> <span class="n">polycrystal</span><span class="o">.</span><span class="n">grains</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">ipf_rgb_color_x_view</span> <span class="o">=</span> <span class="n">grain</span><span class="o">.</span><span class="n">rgb</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span>
<span class="n">ipf_rgb_color_y_view</span> <span class="o">=</span> <span class="n">grain</span><span class="o">.</span><span class="n">rgb</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ipf_axes</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>) – Viewing directions to compute IPF
colors for. <code class="docutils literal notranslate"><span class="pre">shape=(k,</span> <span class="pre">3)</span></code> where <code class="docutils literal notranslate"><span class="pre">k</span></code> is the number of directions.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="crispy._polycrystal.Polycrystal.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_polycrystal.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._polycrystal.Polycrystal.write" title="Link to this definition">#</a></dt>
<dd><p>Write the polycrystal to a file readable by Paraview.</p>
<p>The grain volume will be written to the specified file path,
the file format is <code class="docutils literal notranslate"><span class="pre">.xdmf</span></code> or <code class="docutils literal notranslate"><span class="pre">.vtk</span></code>. The appropriate extension will
automatically be added if it is not already present.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>file_path</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>) – Absolute path to the file to write the polycrystal
to, must end in <code class="docutils literal notranslate"><span class="pre">.xdmf</span></code> or <code class="docutils literal notranslate"><span class="pre">.vtk</span></code>.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="tdxrdmap">
<h2>TDXRDMap<a class="headerlink" href="#tdxrdmap" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="crispy._tdxrd_map.TDXRDMap">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">crispy._tdxrd_map.</span></span><span class="sig-name descname"><span class="pre">TDXRDMap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grainfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'grains'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lattice_parameters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">symmetry</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_tdxrd_map.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._tdxrd_map.TDXRDMap" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#crispy._polycrystal.Polycrystal" title="crispy._polycrystal.Polycrystal"><code class="xref py py-class docutils literal notranslate"><span class="pre">Polycrystal</span></code></a></p>
<p>Class to represent a polycrystal as a list of grain centroids and orientations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>grainfile</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> or <code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">ImageD11.grain.grain</span></code>) – Absolute path to the HDF5 file containing the grain information, or
alternatively a list of ImageD11.grain.grain objects.</p></li>
<li><p><strong>group_name</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>) – The name of the group in the HDF5 file containing
the grain information. Defaults to “grains”.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="crispy._tdxrd_map.TDXRDMap.grains">
<span class="sig-name descname"><span class="pre">grains</span></span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_tdxrd_map.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._tdxrd_map.TDXRDMap.grains" title="Link to this definition">#</a></dt>
<dd><p>List of grains in the polycrystal.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">ImageD11.grain.grain</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="crispy._tdxrd_map.TDXRDMap.number_of_grains">
<span class="sig-name descname"><span class="pre">number_of_grains</span></span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_tdxrd_map.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._tdxrd_map.TDXRDMap.number_of_grains" title="Link to this definition">#</a></dt>
<dd><p>Number of grains in the polycrystal.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="crispy._tdxrd_map.TDXRDMap.u">
<span class="sig-name descname"><span class="pre">u</span></span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_tdxrd_map.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._tdxrd_map.TDXRDMap.u" title="Link to this definition">#</a></dt>
<dd><p>All the U matrices of the grains in the polycrystal. Shape=(N, 3, 3).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="crispy._tdxrd_map.TDXRDMap.orientations">
<span class="sig-name descname"><span class="pre">orientations</span></span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_tdxrd_map.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._tdxrd_map.TDXRDMap.orientations" title="Link to this definition">#</a></dt>
<dd><p>Alias for u.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="crispy._tdxrd_map.TDXRDMap.b">
<span class="sig-name descname"><span class="pre">b</span></span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_tdxrd_map.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._tdxrd_map.TDXRDMap.b" title="Link to this definition">#</a></dt>
<dd><p>All the B matrices of the grains in the polycrystal. Shape=(N, 3, 3).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="crispy._tdxrd_map.TDXRDMap.misorientations">
<span class="sig-name descname"><span class="pre">misorientations</span></span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_tdxrd_map.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._tdxrd_map.TDXRDMap.misorientations" title="Link to this definition">#</a></dt>
<dd><p>The misorientations between all grain neighbours. shape=(N,).
each sub-array contains the misorientations between the corresponding grain and its neighbours.
is None before calling the texturize() method.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="crispy._tdxrd_map.TDXRDMap.add_grain_attr">
<span class="sig-name descname"><span class="pre">add_grain_attr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grains</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_tdxrd_map.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._tdxrd_map.TDXRDMap.add_grain_attr" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="crispy._tdxrd_map.TDXRDMap.neighbours">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">neighbours</span></span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_tdxrd_map.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._tdxrd_map.TDXRDMap.neighbours" title="Link to this definition">#</a></dt>
<dd><p>Return the neighbours of each grain in the polycrystal.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="crispy._tdxrd_map.TDXRDMap.bounding_box">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">bounding_box</span></span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_tdxrd_map.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._tdxrd_map.TDXRDMap.bounding_box" title="Link to this definition">#</a></dt>
<dd><p>Return the bounding box of the polycrystal, shape=(3,2)</p>
<p>Format is: [ [min_x, max_x], [min_y, max_y], [min_z, max_z] ].</p>
<p>computation is done by taking the min and max of the centroids.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="crispy._tdxrd_map.TDXRDMap.extent">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">extent</span></span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_tdxrd_map.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._tdxrd_map.TDXRDMap.extent" title="Link to this definition">#</a></dt>
<dd><p>Return the extent of the polycrystal.</p>
<p>Format is: [ xwidth, ywidth, zwidth ].</p>
<p>computation is done by taking the min and max of the centroids.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="crispy._tdxrd_map.TDXRDMap.centroids">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">centroids</span></span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_tdxrd_map.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._tdxrd_map.TDXRDMap.centroids" title="Link to this definition">#</a></dt>
<dd><p>Return all the grain centroid postions in the polycrystal. shape=(N, 3)</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="crispy._tdxrd_map.TDXRDMap.sum_peak_intensity">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sum_peak_intensity</span></span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_tdxrd_map.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._tdxrd_map.TDXRDMap.sum_peak_intensity" title="Link to this definition">#</a></dt>
<dd><p>Return sum intensity of all indexed peaks for each grain. shape=(N,)</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="crispy._tdxrd_map.TDXRDMap.number_of_peaks">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">number_of_peaks</span></span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_tdxrd_map.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._tdxrd_map.TDXRDMap.number_of_peaks" title="Link to this definition">#</a></dt>
<dd><p>Return number of indexed peaks for each grain. shape=(N,)</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="crispy._tdxrd_map.TDXRDMap.median_peak_intensity">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">median_peak_intensity</span></span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_tdxrd_map.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._tdxrd_map.TDXRDMap.median_peak_intensity" title="Link to this definition">#</a></dt>
<dd><p>Return the median peak intensity for all grains. shape=(N,)</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="crispy._tdxrd_map.TDXRDMap.mean_peak_intensity">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">mean_peak_intensity</span></span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_tdxrd_map.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._tdxrd_map.TDXRDMap.mean_peak_intensity" title="Link to this definition">#</a></dt>
<dd><p>Return the mean peak intensity for all grains. shape=(N,)</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="crispy._tdxrd_map.TDXRDMap.min_peak_intensity">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">min_peak_intensity</span></span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_tdxrd_map.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._tdxrd_map.TDXRDMap.min_peak_intensity" title="Link to this definition">#</a></dt>
<dd><p>Return the minimum peak intensity for all grains. shape=(N,)</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="crispy._tdxrd_map.TDXRDMap.max_peak_intensity">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">max_peak_intensity</span></span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_tdxrd_map.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._tdxrd_map.TDXRDMap.max_peak_intensity" title="Link to this definition">#</a></dt>
<dd><p>Return the maximum peak intensity for all grains. shape=(N,)</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="crispy._tdxrd_map.TDXRDMap.std_peak_intensity">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">std_peak_intensity</span></span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_tdxrd_map.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._tdxrd_map.TDXRDMap.std_peak_intensity" title="Link to this definition">#</a></dt>
<dd><p>Return the standard deviation of peak intensities for all grains. shape=(N,)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="crispy._tdxrd_map.TDXRDMap.from_array">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">translations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ubi_matrices</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_tdxrd_map.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._tdxrd_map.TDXRDMap.from_array" title="Link to this definition">#</a></dt>
<dd><p>Instantiate the polycrystal from pure translations and ubi matrices.</p>
<p>This circumvents the need to read a grain file and ImageD11.grain.grain objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>translations</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">iterable</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>) – 3D grain center translations each of shape=(3,).</p></li>
<li><p><strong>ubi_matrices</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">iterable</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>) – ubi matrices each of shape=(3, 3).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The polycrystal object.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">crispy._tdxrd_map.TDXRDMAP</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="crispy._tdxrd_map.TDXRDMap.tesselate">
<span class="sig-name descname"><span class="pre">tesselate</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_tdxrd_map.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._tdxrd_map.TDXRDMap.tesselate" title="Link to this definition">#</a></dt>
<dd><p>Perform a voronoi tesselation using crispy.tesselate.voronoi</p>
<p>Generates the polycrystal mesh with one convex polyhedra per grain.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="crispy._tdxrd_map.TDXRDMap.texturize">
<span class="sig-name descname"><span class="pre">texturize</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_tdxrd_map.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._tdxrd_map.TDXRDMap.texturize" title="Link to this definition">#</a></dt>
<dd><p>Compute the misorientation between all grain neighbours.</p>
<p>NOTE: uses xfab.symmetry.Umis.</p>
<p>This function sets the misorientations attribute of the polycrystal object,
such that self.misorientations[i] is a shape=(n,) array of misorientations
between grain number i and its n neighbours. Each grain can have a different
number of neighbours. The misorientation between grain i and its j-th neighbour
is always the minimum misorientation between all possible orientations taking
into account the crystal system symmetry.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="crispy._tdxrd_map.TDXRDMap.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grains</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">neighbourhood</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_tdxrd_map.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._tdxrd_map.TDXRDMap.write" title="Link to this definition">#</a></dt>
<dd><p>Write the polycrystal to a file readable by Paraview.</p>
<p>The grain volume will be written to the specified file path,
the file format is <code class="docutils literal notranslate"><span class="pre">.xdmf</span></code> or <code class="docutils literal notranslate"><span class="pre">.vtk</span></code>. The appropriate extension will
automatically be added if it is not already present.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_path</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>) – Absolute path to the file to write the polycrystal
to, must end in <code class="docutils literal notranslate"><span class="pre">.xdmf</span></code> or <code class="docutils literal notranslate"><span class="pre">.vtk</span></code>.</p></li>
<li><p><strong>grains</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code> or <code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code> or <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>) – The
grain ids to write. Defaults to “all” in which case all grains
in the polycrystal are written.</p></li>
<li><p><strong>neighbourhood</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>) – When not None, the grains argument is overwritten
such that the grain number -neighbourhood- and all of its neighbours are
written to file. Default is None.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="labdctvolume">
<h2>LabDCTVolume<a class="headerlink" href="#labdctvolume" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="crispy._lab_dct_volume.LabDCTVolume">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">crispy._lab_dct_volume.</span></span><span class="sig-name descname"><span class="pre">LabDCTVolume</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_lab_dct_volume.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._lab_dct_volume.LabDCTVolume" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#crispy._polycrystal.Polycrystal" title="crispy._polycrystal.Polycrystal"><code class="xref py py-class docutils literal notranslate"><span class="pre">Polycrystal</span></code></a></p>
<p>Class to represent a voxelated lab-DCT grain volume.</p>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">crispy</span>
<span class="n">h5_file_path</span> <span class="o">=</span> <span class="n">crispy</span><span class="o">.</span><span class="n">assets</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">AL1050</span>
<span class="n">dct_volume</span> <span class="o">=</span> <span class="n">crispy</span><span class="o">.</span><span class="n">LabDCTVolume</span><span class="p">(</span><span class="n">h5_file_path</span><span class="p">)</span>
</pre></div>
</div>
<p>This class represents a voxelated grain volume in the laboratory frame. It reads
grain volume data from an HDF5 file in the lab-DCT format and provides methods
for data manipulation. As a specific implementation of the
<a class="reference internal" href="#crispy._polycrystal.Polycrystal" title="crispy._polycrystal.Polycrystal"><code class="xref py py-class docutils literal notranslate"><span class="pre">crispy.Polycrystal</span></code></a> class, it interfaces
with <a class="reference internal" href="#crispy.dfxm.Goniometer" title="crispy.dfxm.Goniometer"><code class="xref py py-obj docutils literal notranslate"><span class="pre">crispy.dfxm.Goniometer</span></code></a> to search for DFXM reflections, useful for
planning synchrotron measurements.</p>
<p>The lab-DCT coordinate system (as implemented by xnovo) aligns with ESR ID11 and
ID03 coordinate systems: z-axis points towards the ceiling, x-axis along beam
propagation, and y-axis to the left as seen by a travelling photon. Loading a
lab-DCT map unifies the coordinate system with that of
<a class="reference internal" href="#crispy._tdxrd_map.TDXRDMap" title="crispy._tdxrd_map.TDXRDMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">crispy.TDXRDMap</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>file_path</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>) – <p>Path to HDF5 file containing grain volume data in
lab-DCT format. Required datasets:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">LabDCT/Spacing</span></code>: Voxel size in microns</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LabDCT/Data/GrainId</span></code>: Grain ID per voxel</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LabDCT/Data/Rodrigues</span></code>: Rodrigues vector per voxel</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PhaseInfo/Phase01/UnitCell</span></code>: Unit cell parameters</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PhaseInfo/Phase01/SpaceGroup</span></code>: Space group of phase</p></li>
</ul>
</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="crispy._lab_dct_volume.LabDCTVolume.reference_cell">
<span class="sig-name descname"><span class="pre">reference_cell</span></span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_lab_dct_volume.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._lab_dct_volume.LabDCTVolume.reference_cell" title="Link to this definition">#</a></dt>
<dd><p>Reference cell of grain volume</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">ImageD11.unitcell</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="crispy._lab_dct_volume.LabDCTVolume.voxel_size">
<span class="sig-name descname"><span class="pre">voxel_size</span></span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_lab_dct_volume.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._lab_dct_volume.LabDCTVolume.voxel_size" title="Link to this definition">#</a></dt>
<dd><p>Voxel size in microns</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="crispy._lab_dct_volume.LabDCTVolume.labels">
<span class="sig-name descname"><span class="pre">labels</span></span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_lab_dct_volume.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._lab_dct_volume.LabDCTVolume.labels" title="Link to this definition">#</a></dt>
<dd><p>Grain ID per voxel, <code class="docutils literal notranslate"><span class="pre">shape</span> <span class="pre">(m,n,o)</span></code>.
<code class="docutils literal notranslate"><span class="pre">axis=0</span></code> is <code class="docutils literal notranslate"><span class="pre">z</span></code>, <code class="docutils literal notranslate"><span class="pre">axis=1</span></code> is <code class="docutils literal notranslate"><span class="pre">y</span></code>, <code class="docutils literal notranslate"><span class="pre">axis=2</span></code> is <code class="docutils literal notranslate"><span class="pre">x</span></code>. Coordinates
increase along positive axis direction.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="crispy._lab_dct_volume.LabDCTVolume.X">
<span class="sig-name descname"><span class="pre">X</span></span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_lab_dct_volume.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._lab_dct_volume.LabDCTVolume.X" title="Link to this definition">#</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">X</span></code> coordinates of voxels in microns, <code class="docutils literal notranslate"><span class="pre">shape</span> <span class="pre">(m,</span> <span class="pre">n,</span> <span class="pre">o)</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="crispy._lab_dct_volume.LabDCTVolume.Y">
<span class="sig-name descname"><span class="pre">Y</span></span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_lab_dct_volume.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._lab_dct_volume.LabDCTVolume.Y" title="Link to this definition">#</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">Y</span></code> coordinates of voxels in microns, <code class="docutils literal notranslate"><span class="pre">shape</span> <span class="pre">(m,</span> <span class="pre">n,</span> <span class="pre">o)</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="crispy._lab_dct_volume.LabDCTVolume.Z">
<span class="sig-name descname"><span class="pre">Z</span></span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_lab_dct_volume.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._lab_dct_volume.LabDCTVolume.Z" title="Link to this definition">#</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">Z</span></code> coordinates of voxels in microns, <code class="docutils literal notranslate"><span class="pre">shape</span> <span class="pre">(m,</span> <span class="pre">n,</span> <span class="pre">o)</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="crispy._lab_dct_volume.LabDCTVolume.orientations">
<span class="sig-name descname"><span class="pre">orientations</span></span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_lab_dct_volume.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._lab_dct_volume.LabDCTVolume.orientations" title="Link to this definition">#</a></dt>
<dd><p>Grain orientations in matrix vector
format, <code class="docutils literal notranslate"><span class="pre">shape</span> <span class="pre">(number_of_grains,</span> <span class="pre">3,</span> <span class="pre">3)</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="crispy._lab_dct_volume.LabDCTVolume.B0">
<span class="sig-name descname"><span class="pre">B0</span></span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_lab_dct_volume.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._lab_dct_volume.LabDCTVolume.B0" title="Link to this definition">#</a></dt>
<dd><p>B0 matrix (reciprocal lattice vectors in lab
frame), upper triangular (3,3) matrix</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="crispy._lab_dct_volume.LabDCTVolume.grains">
<span class="sig-name descname"><span class="pre">grains</span></span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_lab_dct_volume.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._lab_dct_volume.LabDCTVolume.grains" title="Link to this definition">#</a></dt>
<dd><p>Array of grains, <code class="docutils literal notranslate"><span class="pre">len=number_of_grains</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="crispy._lab_dct_volume.LabDCTVolume.number_of_grains">
<span class="sig-name descname"><span class="pre">number_of_grains</span></span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_lab_dct_volume.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._lab_dct_volume.LabDCTVolume.number_of_grains" title="Link to this definition">#</a></dt>
<dd><p>Total number of grains.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="crispy._lab_dct_volume.LabDCTVolume.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_lab_dct_volume.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._lab_dct_volume.LabDCTVolume.write" title="Link to this definition">#</a></dt>
<dd><p>Write the grain volume to paraview readable formats.</p>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">crispy</span>
<span class="n">polycrystal</span> <span class="o">=</span> <span class="n">crispy</span><span class="o">.</span><span class="n">assets</span><span class="o">.</span><span class="n">grain_map</span><span class="o">.</span><span class="n">lab_dct_volume</span><span class="p">(</span><span class="s1">&#39;Al1050&#39;</span><span class="p">)</span>
<span class="n">polycrystal</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;lab_dct_volume.xdmf&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The grain volume will be written to the specified file path,
the file format is <code class="docutils literal notranslate"><span class="pre">.xdmf</span></code>. This extension will automatically
be added if it is not already present. The resulting .xdmf file can
be viewed in Paraview:</p>
<img alt="_images/lab_dct_paraview.png" src="_images/lab_dct_paraview.png" />
<dl class="simple">
<dt>The resulting point data will contain the following attributes:</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">spacing_in_um</span></code>: The voxel size in microns.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ipf_x</span></code>: The x component of the IPF color.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ipf_y</span></code>: The y component of the IPF color.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ipf_z</span></code>: The z component of the IPF color.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: The grain id for each voxel.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">grain_sizes</span></code>: The size of each grain in units of voxels.</p></li>
</ul>
</dd>
</dl>
<p>The data format is sparse in the sense that only non-void voxels
will be written to the file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>file_path</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>) – The path to the file to write the grain
volume to. The file should be in the paraview readable
format.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="crispy._lab_dct_volume.LabDCTVolume.center_of_mass">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">center_of_mass</span></span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_lab_dct_volume.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._lab_dct_volume.LabDCTVolume.center_of_mass" title="Link to this definition">#</a></dt>
<dd><p>The center of mass of the voxel volume in units of microns.</p>
<p>The center of mass is defined as the arithmetic mean of the
coordinates of the non-void voxels.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray of shape = (3,)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="crispy._lab_dct_volume.LabDCTVolume.crop">
<span class="sig-name descname"><span class="pre">crop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ymin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ymax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_lab_dct_volume.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._lab_dct_volume.LabDCTVolume.crop" title="Link to this definition">#</a></dt>
<dd><p>Crop the voxel volume to the specified bounds.</p>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">crispy</span>
<span class="n">dct_volume</span> <span class="o">=</span> <span class="n">crispy</span><span class="o">.</span><span class="n">assets</span><span class="o">.</span><span class="n">grain_map</span><span class="o">.</span><span class="n">lab_dct_volume</span><span class="p">(</span><span class="s1">&#39;Al1050&#39;</span><span class="p">)</span>
<span class="n">bounds</span> <span class="o">=</span> <span class="n">dct_volume</span><span class="o">.</span><span class="n">bounding_box</span>
<span class="n">dct_volume</span><span class="o">.</span><span class="n">crop</span><span class="p">(</span><span class="n">xmin</span><span class="o">=</span><span class="n">bounds</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
        <span class="n">xmax</span><span class="o">=</span><span class="n">bounds</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">//</span><span class="mi">2</span><span class="p">,</span>
        <span class="n">ymin</span><span class="o">=</span><span class="n">bounds</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="mi">10</span><span class="p">,</span>
        <span class="n">ymax</span><span class="o">=</span><span class="n">bounds</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">//</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">10</span><span class="p">,</span>
        <span class="n">zmin</span><span class="o">=</span><span class="n">bounds</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span>
        <span class="n">zmax</span><span class="o">=</span><span class="n">bounds</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="o">//</span><span class="mi">2</span><span class="p">,</span>
    <span class="p">)</span>
<span class="n">dct_volume</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;cropped_lab_dct_volume.xdmf&quot;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/lab_dct_crop.png" src="_images/lab_dct_crop.png" />
<p>The voxel volume will be cropped to the specified bounds. The
attributes will be updated accordingly pruning any grains that
are outside the bounds.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xmin</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>) – The minimum <code class="docutils literal notranslate"><span class="pre">x</span></code> coordinate of the crop.</p></li>
<li><p><strong>xmax</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>) – The maximum <code class="docutils literal notranslate"><span class="pre">x</span></code> coordinate of the crop.</p></li>
<li><p><strong>ymin</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>) – The minimum <code class="docutils literal notranslate"><span class="pre">y</span></code> coordinate of the crop.</p></li>
<li><p><strong>ymax</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>) – The maximum <code class="docutils literal notranslate"><span class="pre">y</span></code> coordinate of the crop.</p></li>
<li><p><strong>zmin</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>) – The minimum <code class="docutils literal notranslate"><span class="pre">z</span></code> coordinate of the crop.</p></li>
<li><p><strong>zmax</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>) – The maximum <code class="docutils literal notranslate"><span class="pre">z</span></code> coordinate of the crop.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="crispy._lab_dct_volume.LabDCTVolume.texturize">
<span class="sig-name descname"><span class="pre">texturize</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_lab_dct_volume.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._lab_dct_volume.LabDCTVolume.texturize" title="Link to this definition">#</a></dt>
<dd><p>Compute the misorientation between all grain neighbours.</p>
<p>NOTE: uses xfab.symmetry.Umis.</p>
<p>This function sets the misorientations attribute of the polycrystal object,
such that self.misorientations[i] is a shape=(n,) array of misorientations
between grain number i and its n neighbours. Each grain can have a different
number of neighbours. The misorientation between grain i and its j-th neighbour
is always the minimum misorientation between all possible orientations taking
into account the crystal system symmetry.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="crispy._lab_dct_volume.LabDCTVolume.center_volume">
<span class="sig-name descname"><span class="pre">center_volume</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_lab_dct_volume.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._lab_dct_volume.LabDCTVolume.center_volume" title="Link to this definition">#</a></dt>
<dd><p>Center the volume around the center of mass.</p>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">crispy</span>
<span class="n">dct_volume</span> <span class="o">=</span> <span class="n">crispy</span><span class="o">.</span><span class="n">assets</span><span class="o">.</span><span class="n">grain_map</span><span class="o">.</span><span class="n">lab_dct_volume</span><span class="p">(</span><span class="s1">&#39;Al1050&#39;</span><span class="p">)</span>
<span class="n">dct_volume</span><span class="o">.</span><span class="n">center_volume</span><span class="p">()</span>
<span class="c1"># the dct_volume.center_of_mass will now be (0,0,0)</span>
</pre></div>
</div>
<p>This in place-operation will update the voxel arrays by applying
the inverse translation of the current center of mass.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="crispy._lab_dct_volume.LabDCTVolume.filter">
<span class="sig-name descname"><span class="pre">filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">min_grain_size_in_voxels</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_lab_dct_volume.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._lab_dct_volume.LabDCTVolume.filter" title="Link to this definition">#</a></dt>
<dd><p>Filter the grains based on their size.</p>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">crispy</span>
<span class="n">dct_volume</span> <span class="o">=</span> <span class="n">crispy</span><span class="o">.</span><span class="n">assets</span><span class="o">.</span><span class="n">grain_map</span><span class="o">.</span><span class="n">lab_dct_volume</span><span class="p">(</span><span class="s1">&#39;Al1050&#39;</span><span class="p">)</span>
<span class="n">dct_volume</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">min_grain_size_in_voxels</span><span class="o">=</span><span class="mi">10000</span><span class="p">)</span>
<span class="n">dct_volume</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;filtered_lab_dct_volume.xdmf&quot;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/lab_dct_filter.png" src="_images/lab_dct_filter.png" />
<p>Grains with a size smaller than grain_size will be removed from
the voxel volume. Attributes will be updated accordingly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>min_grain_size_in_voxels</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>) – The minimum size of the grains
to keep in units of voxels.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="crispy._lab_dct_volume.LabDCTVolume.prune_boundary_grains">
<span class="sig-name descname"><span class="pre">prune_boundary_grains</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_lab_dct_volume.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._lab_dct_volume.LabDCTVolume.prune_boundary_grains" title="Link to this definition">#</a></dt>
<dd><p>Prune the boundary grains.</p>
<p>This will remove all grains that thuch the edge of the volume.</p>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">crispy</span>
<span class="n">dct_volume</span> <span class="o">=</span> <span class="n">crispy</span><span class="o">.</span><span class="n">assets</span><span class="o">.</span><span class="n">grain_map</span><span class="o">.</span><span class="n">lab_dct_volume</span><span class="p">(</span><span class="s1">&#39;Al1050&#39;</span><span class="p">)</span>
<span class="n">dct_volume</span><span class="o">.</span><span class="n">prune_boundary_grains</span><span class="p">()</span>
<span class="n">dct_volume</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;pruned_lab_dct_volume.xdmf&quot;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/lab_dct_prune_boundary_grains.png" src="_images/lab_dct_prune_boundary_grains.png" />
<p>This will remove all grains that are on the boundary of the voxel volume.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="crispy._lab_dct_volume.LabDCTVolume.translate">
<span class="sig-name descname"><span class="pre">translate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">translation</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_lab_dct_volume.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._lab_dct_volume.LabDCTVolume.translate" title="Link to this definition">#</a></dt>
<dd><p>Translate the voxel volume by the specified translation.</p>
<p>The voxel volume will be translated by the specified translation.
The attributes will be updated accordingly.</p>
<p>This is usefull for realigning the voxel volume to be used in
diffraction simulations or in integration with a synchrotron
measurement setting.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>translation</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">np.ndarray</span></code>) – The translation vector in units of microns.
The translation vector should be of <code class="docutils literal notranslate"><span class="pre">shape</span> <span class="pre">(3,)</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="crispy._lab_dct_volume.LabDCTVolume.rotate">
<span class="sig-name descname"><span class="pre">rotate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rotation</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/_lab_dct_volume.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy._lab_dct_volume.LabDCTVolume.rotate" title="Link to this definition">#</a></dt>
<dd><p>Rotate the voxel volume by the specified rotation.</p>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">crispy</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">dct_volume</span> <span class="o">=</span> <span class="n">crispy</span><span class="o">.</span><span class="n">assets</span><span class="o">.</span><span class="n">grain_map</span><span class="o">.</span><span class="n">lab_dct_volume</span><span class="p">(</span><span class="s1">&#39;Al1050&#39;</span><span class="p">)</span>
<span class="n">angle</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="mf">32.3</span><span class="p">)</span>
<span class="n">rotation</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span>         <span class="mi">0</span><span class="p">,</span>             <span class="mi">0</span>      <span class="p">],</span>
                      <span class="p">[</span><span class="mi">0</span><span class="p">,</span>  <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">angle</span><span class="p">),</span> <span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">angle</span><span class="p">)],</span>
                      <span class="p">[</span><span class="mi">0</span><span class="p">,</span>  <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">angle</span><span class="p">),</span>  <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">angle</span><span class="p">)]])</span>
<span class="n">dct_volume</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="n">rotation</span><span class="p">)</span>
<span class="n">dct_volume</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;rotated_lab_dct_volume.xdmf&quot;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/lab_dct_rotate.png" src="_images/lab_dct_rotate.png" />
<p>The voxel volume will be rotated by the specified rotation.
The attributes will be updated accordingly. Note that the
frame of reference is the lab frame which is initally
aligned with the voxel volume grid. After subsequent
rotations, the frame of reference may not be aligned with
the voxel volume grid.</p>
<p>This will update both voxel coordinates and grain orientations.</p>
<p>This is usefull for realigning the voxel volume to be used in
diffraction simulations or in integration with a synchrotron
measurement setting.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>rotation</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">np.ndarray</span></code> or <code class="xref py py-obj docutils literal notranslate"><span class="pre">scipy.spatial.transform.Rotation</span></code>) – The rotation
matrix, rotation vector or rotation object to rotate the voxel volume by.
if this is a rotation vector, it should be of <code class="docutils literal notranslate"><span class="pre">shape</span> <span class="pre">(3,)</span></code> with the norm
equal to the angle of rotation in radians. The direction of the vector
is the axis of rotation.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-crispy.dfxm">
<span id="dfxm"></span><h2>dfxm<a class="headerlink" href="#module-crispy.dfxm" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="crispy.dfxm.Goniometer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">crispy.dfxm.</span></span><span class="sig-name descname"><span class="pre">Goniometer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">polycrystal</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">energy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detector_distance</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">motor_bounds</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/dfxm.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy.dfxm.Goniometer" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class representing a Dark-Field X-ray Microscopy (DFXM) experimental setup.</p>
<p>This class calculates the required microscope angular settings to bring a set of
Miller indices into diffraction condition at specific turntable rotations.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="crispy.dfxm.Goniometer.polycrystal">
<span class="sig-name descname"><span class="pre">polycrystal</span></span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/dfxm.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy.dfxm.Goniometer.polycrystal" title="Link to this definition">#</a></dt>
<dd><p>The polycrystal object mounted on the goniometer.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#crispy._polycrystal.Polycrystal" title="crispy._polycrystal.Polycrystal"><code class="xref py py-class docutils literal notranslate"><span class="pre">crispy.Polycrystal</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="crispy.dfxm.Goniometer.energy">
<span class="sig-name descname"><span class="pre">energy</span></span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/dfxm.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy.dfxm.Goniometer.energy" title="Link to this definition">#</a></dt>
<dd><p>Photon energy in keV.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="crispy.dfxm.Goniometer.detector_distance">
<span class="sig-name descname"><span class="pre">detector_distance</span></span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/dfxm.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy.dfxm.Goniometer.detector_distance" title="Link to this definition">#</a></dt>
<dd><p>Distance between sample and detector
in metres.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="crispy.dfxm.Goniometer.motor_bounds">
<span class="sig-name descname"><span class="pre">motor_bounds</span></span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/dfxm.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy.dfxm.Goniometer.motor_bounds" title="Link to this definition">#</a></dt>
<dd><p>Motor limits for the goniometer/hexapod in degrees
(sample stage) and metres (detector translations). Keys are shown in the
example below:</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></p>
</dd>
</dl>
</dd></dl>

<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">motor_bounds</span> <span class="o">=</span> <span class="p">{</span>
<span class="s2">&quot;mu&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="c1"># degrees</span>
<span class="s2">&quot;omega&quot;</span><span class="p">:</span> <span class="p">(</span><span class="o">-</span><span class="mi">22</span><span class="p">,</span> <span class="mi">22</span><span class="p">),</span> <span class="c1"># degrees</span>
<span class="s2">&quot;chi&quot;</span><span class="p">:</span> <span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="c1"># degrees</span>
<span class="s2">&quot;phi&quot;</span><span class="p">:</span> <span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="c1"># degrees</span>
<span class="s2">&quot;detector_z&quot;</span><span class="p">:</span> <span class="p">(</span><span class="o">-</span><span class="mf">0.04</span><span class="p">,</span> <span class="mf">1.96</span><span class="p">),</span> <span class="c1"># metres</span>
<span class="s2">&quot;detector_y&quot;</span><span class="p">:</span> <span class="p">(</span><span class="o">-</span><span class="mf">0.169</span><span class="p">,</span> <span class="mf">1.16</span><span class="p">)</span> <span class="c1"># metres</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="crispy.dfxm.Goniometer.find_reflections">
<span class="sig-name descname"><span class="pre">find_reflections</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">alignment_tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxiter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxls</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">25</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ftol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask_unreachable</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/dfxm.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy.dfxm.Goniometer.find_reflections" title="Link to this definition">#</a></dt>
<dd><p>Find all reflections reachable by the goniometer in DFXM in  <em>“simplified geometry”</em>.</p>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">crispy</span>

<span class="n">polycrystal</span> <span class="o">=</span> <span class="n">crispy</span><span class="o">.</span><span class="n">assets</span><span class="o">.</span><span class="n">grain_map</span><span class="o">.</span><span class="n">tdxrd_map</span><span class="p">()</span>

<span class="n">motor_bounds</span> <span class="o">=</span> <span class="p">{</span>
<span class="s2">&quot;mu&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="c1"># degrees</span>
<span class="s2">&quot;omega&quot;</span><span class="p">:</span> <span class="p">(</span><span class="o">-</span><span class="mi">22</span><span class="p">,</span> <span class="mi">22</span><span class="p">),</span> <span class="c1"># degrees</span>
<span class="s2">&quot;chi&quot;</span><span class="p">:</span> <span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="c1"># degrees</span>
<span class="s2">&quot;phi&quot;</span><span class="p">:</span> <span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="c1"># degrees</span>
<span class="s2">&quot;detector_z&quot;</span><span class="p">:</span> <span class="p">(</span><span class="o">-</span><span class="mf">0.04</span><span class="p">,</span> <span class="mf">1.96</span><span class="p">),</span> <span class="c1"># metres</span>
<span class="s2">&quot;detector_y&quot;</span><span class="p">:</span> <span class="p">(</span><span class="o">-</span><span class="mf">0.169</span><span class="p">,</span> <span class="mf">1.16</span><span class="p">)</span> <span class="c1"># metres</span>
<span class="p">}</span>

<span class="n">goniometer</span> <span class="o">=</span> <span class="n">crispy</span><span class="o">.</span><span class="n">dfxm</span><span class="o">.</span><span class="n">Goniometer</span><span class="p">(</span><span class="n">polycrystal</span><span class="p">,</span>
                        <span class="n">energy</span><span class="o">=</span><span class="mi">17</span><span class="p">,</span>
                        <span class="n">detector_distance</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
                        <span class="n">motor_bounds</span><span class="o">=</span><span class="n">motor_bounds</span><span class="p">)</span>
<span class="n">goniometer</span><span class="o">.</span><span class="n">find_reflections</span><span class="p">()</span>

<span class="c1"># The found reflections are stored in the `dfxm` dictionary of each grain.</span>
<span class="n">reflections_grain_12</span> <span class="o">=</span> <span class="n">polycrystal</span><span class="o">.</span><span class="n">grains</span><span class="p">[</span><span class="mi">12</span><span class="p">]</span><span class="o">.</span><span class="n">dfxm</span>
</pre></div>
</div>
<p>Output dictorary for <code class="docutils literal notranslate"><span class="pre">reflections_grain_12</span></code>:</p>
<blockquote>
<div><ul class="simple">
<li><p>“chi”:  array([-4.51990607])</p></li>
<li><p>“hkl”:  array([[0.], [0.], [2.]])</p></li>
<li><p>“mu”:  array([6.12038619])</p></li>
<li><p>“omega”:  array([-13.18363797])</p></li>
<li><p>“phi”:  array([-4.99889719])</p></li>
<li><p>“residual”:  array([0.])</p></li>
<li><p>“theta”:  array([14.71219735])</p></li>
</ul>
</div></blockquote>
<p>The reflections are found by running an optimisation algorithm that aligns the
lattice normals with target vectors. The target vectors are defined as the z-axis
rotated by the Bragg angle in the xz-plane into the reverse direction of the beam,
which is assumed to propagate in the positive x-direction.</p>
<p>The reflections are stored in the <code class="xref py py-attr docutils literal notranslate"><span class="pre">dfxm</span></code> dictionary of each grain with keys:</p>
<blockquote>
<div><ul class="simple">
<li><p>“hkl”: Miller indices of diffracting planes</p></li>
<li><p>“mu”: Mu angles at which diffraction occurs</p></li>
<li><p>“omega”: Omega angles at which diffraction occurs</p></li>
<li><p>“chi”: Chi angles at which diffraction occurs</p></li>
<li><p>“phi”: Phi angles at which diffraction occurs</p></li>
<li><p>“residual”: Misalignment between target Q-vector and aligned lattice normal</p></li>
<li><p>“theta”: Bragg angles at which diffraction occurs</p></li>
</ul>
</div></blockquote>
<p>To access the reflections of grain <code class="docutils literal notranslate"><span class="pre">i</span></code>, use:</p>
<blockquote>
<div><p>polycrystal.grains[i].dfxm[“hkl”]  # etc.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>alignment_tol</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>) – Tolerance for determining if optimisation
aligned the reflection, in degrees. Represents misalignment between
lattice normal and target vector. Default is 1e-4.</p></li>
<li><p><strong>maxiter</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>) – Maximum iterations for L-BFGS-B optimisation.
Default is <code class="docutils literal notranslate"><span class="pre">None</span></code>, set to 200 * N where N is number of reflections.</p></li>
<li><p><strong>maxls</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>) – Maximum line search iterations per L-BFGS-B iteration.
Default is 25.</p></li>
<li><p><strong>ftol</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>) – Tolerance for optimisation cost function termination.
Default is <code class="docutils literal notranslate"><span class="pre">None</span></code>, set to 1e-8 / N where N is number of reflections.</p></li>
<li><p><strong>mask_unreachable</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, mask reflections unreachable by
goniometer/hexapod. A reflection is unreachable if misalignment exceeds
the sum of absolute motor bounds. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code>. Masking speeds up
optimisation by excluding unreachable reflections. When enabled,
unreachable reflections have <code class="docutils literal notranslate"><span class="pre">np.nan</span></code> values in solution and residuals.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="crispy.dfxm.Goniometer.table_of_reflections">
<span class="sig-name descname"><span class="pre">table_of_reflections</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/dfxm.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy.dfxm.Goniometer.table_of_reflections" title="Link to this definition">#</a></dt>
<dd><p>Compile a <code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code> of the reflections found by <a class="reference internal" href="#crispy.dfxm.Goniometer.find_reflections" title="crispy.dfxm.Goniometer.find_reflections"><code class="xref py py-func docutils literal notranslate"><span class="pre">find_reflections()</span></code></a>.</p>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">crispy</span>

<span class="n">polycrystal</span> <span class="o">=</span> <span class="n">crispy</span><span class="o">.</span><span class="n">assets</span><span class="o">.</span><span class="n">grain_map</span><span class="o">.</span><span class="n">tdxrd_map</span><span class="p">()</span>

<span class="n">motor_bounds</span> <span class="o">=</span> <span class="p">{</span>
<span class="s2">&quot;mu&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="c1"># degrees</span>
<span class="s2">&quot;omega&quot;</span><span class="p">:</span> <span class="p">(</span><span class="o">-</span><span class="mi">22</span><span class="p">,</span> <span class="mi">22</span><span class="p">),</span> <span class="c1"># degrees</span>
<span class="s2">&quot;chi&quot;</span><span class="p">:</span> <span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="c1"># degrees</span>
<span class="s2">&quot;phi&quot;</span><span class="p">:</span> <span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="c1"># degrees</span>
<span class="s2">&quot;detector_z&quot;</span><span class="p">:</span> <span class="p">(</span><span class="o">-</span><span class="mf">0.04</span><span class="p">,</span> <span class="mf">1.96</span><span class="p">),</span> <span class="c1"># metres</span>
<span class="s2">&quot;detector_y&quot;</span><span class="p">:</span> <span class="p">(</span><span class="o">-</span><span class="mf">0.169</span><span class="p">,</span> <span class="mf">1.16</span><span class="p">)</span> <span class="c1"># metres</span>
<span class="p">}</span>

<span class="n">goniometer</span> <span class="o">=</span> <span class="n">crispy</span><span class="o">.</span><span class="n">dfxm</span><span class="o">.</span><span class="n">Goniometer</span><span class="p">(</span><span class="n">polycrystal</span><span class="p">,</span>
                        <span class="n">energy</span><span class="o">=</span><span class="mi">17</span><span class="p">,</span>
                        <span class="n">detector_distance</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
                        <span class="n">motor_bounds</span><span class="o">=</span><span class="n">motor_bounds</span><span class="p">)</span>
<span class="n">goniometer</span><span class="o">.</span><span class="n">find_reflections</span><span class="p">()</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">goniometer</span><span class="o">.</span><span class="n">table_of_reflections</span><span class="p">()</span>
</pre></div>
</div>
<p>Output <code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code> for <code class="docutils literal notranslate"><span class="pre">df</span></code> looks like this:</p>
<img alt="_images/dfxm_table.png" src="_images/dfxm_table.png" />
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ValueError</strong> – if <a class="reference internal" href="#crispy.dfxm.Goniometer.find_reflections" title="crispy.dfxm.Goniometer.find_reflections"><code class="xref py py-func docutils literal notranslate"><span class="pre">find_reflections()</span></code></a> has not been run.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>DataFrame of the reflections found</dt><dd><p>by <a class="reference internal" href="#crispy.dfxm.Goniometer.find_reflections" title="crispy.dfxm.Goniometer.find_reflections"><code class="xref py py-func docutils literal notranslate"><span class="pre">find_reflections()</span></code></a>. For each grain, the DataFrame contains
column in accordance with the keys in the <code class="xref py py-attr docutils literal notranslate"><span class="pre">dfxm</span></code> dictionary
of the grain. see <a class="reference internal" href="#crispy.dfxm.Goniometer.find_reflections" title="crispy.dfxm.Goniometer.find_reflections"><code class="xref py py-func docutils literal notranslate"><span class="pre">find_reflections()</span></code></a> for more details.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="crispy.dfxm.Goniometer.find_symmetry_axis">
<span class="sig-name descname"><span class="pre">find_symmetry_axis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">alignment_tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxiter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxls</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">25</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ftol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask_unreachable</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/dfxm.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy.dfxm.Goniometer.find_symmetry_axis" title="Link to this definition">#</a></dt>
<dd><p>Find all Miller indices that can be aligned with the z-axis within motor bounds.</p>
<p>This allows for the identification of various oblique imaging geometries in
which multiple reflections are reachable by pure z-axis rotations.</p>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">crispy</span>

<span class="n">polycrystal</span> <span class="o">=</span> <span class="n">crispy</span><span class="o">.</span><span class="n">assets</span><span class="o">.</span><span class="n">grain_map</span><span class="o">.</span><span class="n">lab_dct_volume</span><span class="p">(</span><span class="s2">&quot;Al1050&quot;</span><span class="p">)</span>

<span class="n">motor_bounds</span> <span class="o">=</span> <span class="p">{</span>
<span class="s2">&quot;mu&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="c1"># degrees</span>
<span class="s2">&quot;omega&quot;</span><span class="p">:</span> <span class="p">(</span><span class="o">-</span><span class="mi">30</span><span class="p">,</span> <span class="mi">30</span><span class="p">),</span> <span class="c1"># degrees</span>
<span class="s2">&quot;chi&quot;</span><span class="p">:</span> <span class="p">(</span><span class="o">-</span><span class="mi">7</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="c1"># degrees</span>
<span class="s2">&quot;phi&quot;</span><span class="p">:</span> <span class="p">(</span><span class="o">-</span><span class="mi">7</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="c1"># degrees</span>
<span class="s2">&quot;detector_z&quot;</span><span class="p">:</span> <span class="p">(</span><span class="o">-</span><span class="mf">0.04</span><span class="p">,</span> <span class="mf">1.96</span><span class="p">),</span> <span class="c1"># metres</span>
<span class="s2">&quot;detector_y&quot;</span><span class="p">:</span> <span class="p">(</span><span class="o">-</span><span class="mf">0.169</span><span class="p">,</span> <span class="mf">1.16</span><span class="p">)</span> <span class="c1"># metres</span>
<span class="p">}</span>

<span class="n">goniometer</span> <span class="o">=</span> <span class="n">crispy</span><span class="o">.</span><span class="n">dfxm</span><span class="o">.</span><span class="n">Goniometer</span><span class="p">(</span><span class="n">polycrystal</span><span class="p">,</span>
                        <span class="n">energy</span><span class="o">=</span><span class="mi">17</span><span class="p">,</span>
                        <span class="n">detector_distance</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
                        <span class="n">motor_bounds</span><span class="o">=</span><span class="n">motor_bounds</span><span class="p">)</span>
<span class="n">goniometer</span><span class="o">.</span><span class="n">find_symmetry_axis</span><span class="p">()</span>
</pre></div>
</div>
<p>Finds all reachable reflections in the polycrystal using an optimisation algorithm
that aligns lattice normals with target vectors (defined as the z-axis). The
reflections are stored in the polycrystal grain objects as dictionaries named
<code class="docutils literal notranslate"><span class="pre">symmetry_axis</span></code> with the following keys:</p>
<blockquote>
<div><ul class="simple">
<li><p>“hkl”: Miller indices that can diffract</p></li>
<li><p>“mu”: Mu angles at which diffraction occurs</p></li>
<li><p>“omega”: Omega angles at which diffraction occurs</p></li>
<li><p>“chi”: Chi angles at which diffraction occurs</p></li>
<li><p>“phi”: Phi angles at which diffraction occurs</p></li>
<li><p>“residual”: Radians between lattice normal and z-axis</p></li>
</ul>
</div></blockquote>
<p>To access the symmetry axis of grain <code class="docutils literal notranslate"><span class="pre">i</span></code>, use:</p>
<blockquote>
<div><p>polycrystal.grains[i].symmetry_axis[“hkl”]  # etc.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>alignment_tol</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>) – Tolerance in degrees for determining if the
optimisation aligned the lattice normal with the z-axis. Represents the
misalignment between lattice normal and target vector. Default is 1e-4.</p></li>
<li><p><strong>maxiter</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>) – Maximum iterations for L-BFGS-B optimisation.
Default is None (set to 200 * N, where N is number of reflections).</p></li>
<li><p><strong>maxls</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>) – Maximum line search iterations per L-BFGS-B iteration.
Default is 25.</p></li>
<li><p><strong>ftol</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code>) – Tolerance for optimisation cost function termination.
Default is None (set to 1e-8 / N, where N is number of reflections).</p></li>
<li><p><strong>mask_unreachable</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>) – If True, mask unreachable lattice normals by the
goniometer/hexapod. A lattice normal is unreachable if its misalignment exceeds
the maximum sum of absolute motor bounds. Default is False. Masking speeds
up optimisation by excluding unreachable lattice normals. When enabled,
solution and residual arrays contain np.nan for unreachable lattice normals.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-crispy.vizualise">
<span id="vizualise"></span><h2>vizualise<a class="headerlink" href="#module-crispy.vizualise" title="Link to this heading">#</a></h2>
<p>The vizualisation module contains functions genreally targeting visualising voronoi tesselations
of polycrystals. I.e these function are usefull for <code class="xref py py-class docutils literal notranslate"><span class="pre">crispy.TDXRDMap</span></code> &lt;crispy._tdxrd_map.TDXRDMap&gt;</p>
<p>For lab-DCT volumes, see <code class="xref py py-func docutils literal notranslate"><span class="pre">crispy.LabDCTVolume.write()</span></code> &lt;crispy._lab_dct_volume.LabDCTVolume.write&gt;
for writing to paraview files to disc for visualization.</p>
<dl class="py function">
<dt class="sig sig-object py" id="crispy.vizualise.mesh">
<span class="sig-prename descclassname"><span class="pre">crispy.vizualise.</span></span><span class="sig-name descname"><span class="pre">mesh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">polycrystal</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">neighbourhood</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">select</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/vizualise.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy.vizualise.mesh" title="Link to this definition">#</a></dt>
<dd><p>Plot the Voronoi tesselation of the polycrystal.</p>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">crispy</span>

<span class="n">polycrystal</span> <span class="o">=</span> <span class="n">crispy</span><span class="o">.</span><span class="n">assets</span><span class="o">.</span><span class="n">grain_map</span><span class="o">.</span><span class="n">tdxrd_map</span><span class="p">()</span>
<span class="n">polycrystal</span><span class="o">.</span><span class="n">tesselate</span><span class="p">()</span>
<span class="n">polycrystal</span><span class="o">.</span><span class="n">colorize</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">crispy</span><span class="o">.</span><span class="n">vizualise</span><span class="o">.</span><span class="n">mesh</span><span class="p">(</span><span class="n">polycrystal</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<img alt="_images/mesh.png" src="_images/mesh.png" />
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>polycrystal</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">crispy.TDXRDMap</span></code>) – The polycrystal object.</p></li>
<li><p><strong>neighbourhood</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>, optional) – When not None, the grain
with number -neighbourhood- and all of its neighbours are
plotted. Default is None, in which case the entire polycrystal
mesh is plotted.</p></li>
<li><p><strong>select</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>, optional) – List of grain indices
to plot. Default is None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">matplotlib.figure.Figure</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">matplotlib.axes.Axes</span></code></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-crispy.assets">
<span id="assets"></span><h2>assets<a class="headerlink" href="#module-crispy.assets" title="Link to this heading">#</a></h2>
<p>Module to load example data and phantoms.</p>
<p>Here you will find example datasets and phantoms that can be used to test and
demonstrate the functionality of the crispy package. These assets are stored in
the <cite>assets</cite> directory of the repository.</p>
<dl class="py class">
<dt class="sig sig-object py" id="crispy.assets.path">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">crispy.assets.</span></span><span class="sig-name descname"><span class="pre">path</span></span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/assets.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy.assets.path" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Absolute paths to various assets.</p>
<dl class="simple">
<dt>Currently availabel example datasets are:</dt><dd><ul class="simple">
<li><p>…/crispy/assets/FeAu_0p5_tR_ff1_grains.h5</p></li>
<li><p>…/crispy/assets/lab_dct_silicon.h5</p></li>
<li><p>…/crispy/assets/lab_dct_Al1050.h5</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="crispy.assets.path.FEAU">
<span class="sig-name descname"><span class="pre">FEAU</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'/home/naxhe/workspace/crispy/assets/FeAu_0p5_tR_ff1_grains.h5'</span></em><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/assets.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy.assets.path.FEAU" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="crispy.assets.path.SILICON">
<span class="sig-name descname"><span class="pre">SILICON</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'/home/naxhe/workspace/crispy/assets/lab_dct_silicon.h5'</span></em><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/assets.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy.assets.path.SILICON" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="crispy.assets.path.AL1050">
<span class="sig-name descname"><span class="pre">AL1050</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'/home/naxhe/workspace/crispy/assets/lab_dct_Al1050.h5'</span></em><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/assets.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy.assets.path.AL1050" title="Link to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="crispy.assets.grain_map">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">crispy.assets.</span></span><span class="sig-name descname"><span class="pre">grain_map</span></span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/assets.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy.assets.grain_map" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class to load example grain maps.</p>
<p>Various assets and example dataset are available in the <cite>assets</cite> directory.</p>
<dl class="py method">
<dt class="sig sig-object py" id="crispy.assets.grain_map.tdxrd_map">
<span class="sig-name descname"><span class="pre">tdxrd_map</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/assets.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy.assets.grain_map.tdxrd_map" title="Link to this definition">#</a></dt>
<dd><p>Load a grain map from the ID11 beamline at ESRF on a FeAu sample.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of grains in the grain map.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">ImageD11.grain.grain</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="crispy.assets.grain_map.lab_dct_volume">
<span class="sig-name descname"><span class="pre">lab_dct_volume</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/AxelHenningsson/crispy/tree/main/crispy/assets.py/"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#crispy.assets.grain_map.lab_dct_volume" title="Link to this definition">#</a></dt>
<dd><p>Load a lab-dct volume.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>) – The name of the lab-dct volume to load.
This can be one of the following:
- “Al1050”: A lab-dct volume of a small polycrystalline Al1050 sample.
- “silicon”: A lab-dct volume of three silicon single crystals shards.
Defaults to “Al1050”.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the name is not one of the available assets.</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Lab-dct volume.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#crispy._lab_dct_volume.LabDCTVolume" title="crispy._lab_dct_volume.LabDCTVolume"><code class="xref py py-obj docutils literal notranslate"><span class="pre">crispy._lab_dct_volume.LabDCTVolume</span></code></a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">crispy</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#authors">Authors</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#usecase">Usecase</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#installation">Installation</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#documentation">Documentation</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#grainmap">GrainMap</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._grain_map.GrainMap"><code class="docutils literal notranslate"><span class="pre">GrainMap</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#polycrystal">Polycrystal</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._polycrystal.Polycrystal"><code class="docutils literal notranslate"><span class="pre">Polycrystal</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._polycrystal.Polycrystal.reference_cell"><code class="docutils literal notranslate"><span class="pre">Polycrystal.reference_cell</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._polycrystal.Polycrystal.grains"><code class="docutils literal notranslate"><span class="pre">Polycrystal.grains</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._polycrystal.Polycrystal.number_of_grains"><code class="docutils literal notranslate"><span class="pre">Polycrystal.number_of_grains</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._polycrystal.Polycrystal.neighbours"><code class="docutils literal notranslate"><span class="pre">Polycrystal.neighbours</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._polycrystal.Polycrystal.texturize"><code class="docutils literal notranslate"><span class="pre">Polycrystal.texturize()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._polycrystal.Polycrystal.misorientations"><code class="docutils literal notranslate"><span class="pre">Polycrystal.misorientations</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._polycrystal.Polycrystal.ubi"><code class="docutils literal notranslate"><span class="pre">Polycrystal.ubi</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._polycrystal.Polycrystal.u"><code class="docutils literal notranslate"><span class="pre">Polycrystal.u</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._polycrystal.Polycrystal.orientation"><code class="docutils literal notranslate"><span class="pre">Polycrystal.orientation</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._polycrystal.Polycrystal.b"><code class="docutils literal notranslate"><span class="pre">Polycrystal.b</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._polycrystal.Polycrystal.strain"><code class="docutils literal notranslate"><span class="pre">Polycrystal.strain</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._polycrystal.Polycrystal.crystal_system"><code class="docutils literal notranslate"><span class="pre">Polycrystal.crystal_system</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._polycrystal.Polycrystal.colorize"><code class="docutils literal notranslate"><span class="pre">Polycrystal.colorize()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._polycrystal.Polycrystal.write"><code class="docutils literal notranslate"><span class="pre">Polycrystal.write()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tdxrdmap">TDXRDMap</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._tdxrd_map.TDXRDMap"><code class="docutils literal notranslate"><span class="pre">TDXRDMap</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._tdxrd_map.TDXRDMap.grains"><code class="docutils literal notranslate"><span class="pre">TDXRDMap.grains</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._tdxrd_map.TDXRDMap.number_of_grains"><code class="docutils literal notranslate"><span class="pre">TDXRDMap.number_of_grains</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._tdxrd_map.TDXRDMap.u"><code class="docutils literal notranslate"><span class="pre">TDXRDMap.u</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._tdxrd_map.TDXRDMap.orientations"><code class="docutils literal notranslate"><span class="pre">TDXRDMap.orientations</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._tdxrd_map.TDXRDMap.b"><code class="docutils literal notranslate"><span class="pre">TDXRDMap.b</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._tdxrd_map.TDXRDMap.misorientations"><code class="docutils literal notranslate"><span class="pre">TDXRDMap.misorientations</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._tdxrd_map.TDXRDMap.add_grain_attr"><code class="docutils literal notranslate"><span class="pre">TDXRDMap.add_grain_attr()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._tdxrd_map.TDXRDMap.neighbours"><code class="docutils literal notranslate"><span class="pre">TDXRDMap.neighbours</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._tdxrd_map.TDXRDMap.bounding_box"><code class="docutils literal notranslate"><span class="pre">TDXRDMap.bounding_box</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._tdxrd_map.TDXRDMap.extent"><code class="docutils literal notranslate"><span class="pre">TDXRDMap.extent</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._tdxrd_map.TDXRDMap.centroids"><code class="docutils literal notranslate"><span class="pre">TDXRDMap.centroids</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._tdxrd_map.TDXRDMap.sum_peak_intensity"><code class="docutils literal notranslate"><span class="pre">TDXRDMap.sum_peak_intensity</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._tdxrd_map.TDXRDMap.number_of_peaks"><code class="docutils literal notranslate"><span class="pre">TDXRDMap.number_of_peaks</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._tdxrd_map.TDXRDMap.median_peak_intensity"><code class="docutils literal notranslate"><span class="pre">TDXRDMap.median_peak_intensity</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._tdxrd_map.TDXRDMap.mean_peak_intensity"><code class="docutils literal notranslate"><span class="pre">TDXRDMap.mean_peak_intensity</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._tdxrd_map.TDXRDMap.min_peak_intensity"><code class="docutils literal notranslate"><span class="pre">TDXRDMap.min_peak_intensity</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._tdxrd_map.TDXRDMap.max_peak_intensity"><code class="docutils literal notranslate"><span class="pre">TDXRDMap.max_peak_intensity</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._tdxrd_map.TDXRDMap.std_peak_intensity"><code class="docutils literal notranslate"><span class="pre">TDXRDMap.std_peak_intensity</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._tdxrd_map.TDXRDMap.from_array"><code class="docutils literal notranslate"><span class="pre">TDXRDMap.from_array()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._tdxrd_map.TDXRDMap.tesselate"><code class="docutils literal notranslate"><span class="pre">TDXRDMap.tesselate()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._tdxrd_map.TDXRDMap.texturize"><code class="docutils literal notranslate"><span class="pre">TDXRDMap.texturize()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._tdxrd_map.TDXRDMap.write"><code class="docutils literal notranslate"><span class="pre">TDXRDMap.write()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#labdctvolume">LabDCTVolume</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._lab_dct_volume.LabDCTVolume"><code class="docutils literal notranslate"><span class="pre">LabDCTVolume</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._lab_dct_volume.LabDCTVolume.reference_cell"><code class="docutils literal notranslate"><span class="pre">LabDCTVolume.reference_cell</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._lab_dct_volume.LabDCTVolume.voxel_size"><code class="docutils literal notranslate"><span class="pre">LabDCTVolume.voxel_size</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._lab_dct_volume.LabDCTVolume.labels"><code class="docutils literal notranslate"><span class="pre">LabDCTVolume.labels</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._lab_dct_volume.LabDCTVolume.X"><code class="docutils literal notranslate"><span class="pre">LabDCTVolume.X</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._lab_dct_volume.LabDCTVolume.Y"><code class="docutils literal notranslate"><span class="pre">LabDCTVolume.Y</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._lab_dct_volume.LabDCTVolume.Z"><code class="docutils literal notranslate"><span class="pre">LabDCTVolume.Z</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._lab_dct_volume.LabDCTVolume.orientations"><code class="docutils literal notranslate"><span class="pre">LabDCTVolume.orientations</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._lab_dct_volume.LabDCTVolume.B0"><code class="docutils literal notranslate"><span class="pre">LabDCTVolume.B0</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._lab_dct_volume.LabDCTVolume.grains"><code class="docutils literal notranslate"><span class="pre">LabDCTVolume.grains</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._lab_dct_volume.LabDCTVolume.number_of_grains"><code class="docutils literal notranslate"><span class="pre">LabDCTVolume.number_of_grains</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._lab_dct_volume.LabDCTVolume.write"><code class="docutils literal notranslate"><span class="pre">LabDCTVolume.write()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._lab_dct_volume.LabDCTVolume.center_of_mass"><code class="docutils literal notranslate"><span class="pre">LabDCTVolume.center_of_mass</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._lab_dct_volume.LabDCTVolume.crop"><code class="docutils literal notranslate"><span class="pre">LabDCTVolume.crop()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._lab_dct_volume.LabDCTVolume.texturize"><code class="docutils literal notranslate"><span class="pre">LabDCTVolume.texturize()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._lab_dct_volume.LabDCTVolume.center_volume"><code class="docutils literal notranslate"><span class="pre">LabDCTVolume.center_volume()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._lab_dct_volume.LabDCTVolume.filter"><code class="docutils literal notranslate"><span class="pre">LabDCTVolume.filter()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._lab_dct_volume.LabDCTVolume.prune_boundary_grains"><code class="docutils literal notranslate"><span class="pre">LabDCTVolume.prune_boundary_grains()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._lab_dct_volume.LabDCTVolume.translate"><code class="docutils literal notranslate"><span class="pre">LabDCTVolume.translate()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy._lab_dct_volume.LabDCTVolume.rotate"><code class="docutils literal notranslate"><span class="pre">LabDCTVolume.rotate()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-crispy.dfxm">dfxm</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy.dfxm.Goniometer"><code class="docutils literal notranslate"><span class="pre">Goniometer</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy.dfxm.Goniometer.polycrystal"><code class="docutils literal notranslate"><span class="pre">Goniometer.polycrystal</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy.dfxm.Goniometer.energy"><code class="docutils literal notranslate"><span class="pre">Goniometer.energy</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy.dfxm.Goniometer.detector_distance"><code class="docutils literal notranslate"><span class="pre">Goniometer.detector_distance</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy.dfxm.Goniometer.motor_bounds"><code class="docutils literal notranslate"><span class="pre">Goniometer.motor_bounds</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy.dfxm.Goniometer.find_reflections"><code class="docutils literal notranslate"><span class="pre">Goniometer.find_reflections()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy.dfxm.Goniometer.table_of_reflections"><code class="docutils literal notranslate"><span class="pre">Goniometer.table_of_reflections()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy.dfxm.Goniometer.find_symmetry_axis"><code class="docutils literal notranslate"><span class="pre">Goniometer.find_symmetry_axis()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-crispy.vizualise">vizualise</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy.vizualise.mesh"><code class="docutils literal notranslate"><span class="pre">mesh()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-crispy.assets">assets</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy.assets.path"><code class="docutils literal notranslate"><span class="pre">path</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy.assets.path.FEAU"><code class="docutils literal notranslate"><span class="pre">path.FEAU</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy.assets.path.SILICON"><code class="docutils literal notranslate"><span class="pre">path.SILICON</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy.assets.path.AL1050"><code class="docutils literal notranslate"><span class="pre">path.AL1050</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy.assets.grain_map"><code class="docutils literal notranslate"><span class="pre">grain_map</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy.assets.grain_map.tdxrd_map"><code class="docutils literal notranslate"><span class="pre">grain_map.tdxrd_map()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#crispy.assets.grain_map.lab_dct_volume"><code class="docutils literal notranslate"><span class="pre">grain_map.lab_dct_volume()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

  </nav></div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="_sources/index.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549"></script>
<script defer src="_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2025, Axel Henningsson.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.0.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>